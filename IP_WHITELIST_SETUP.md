# 📋 IP白名单设置指南

## 当前上传失败原因

上传失败，错误信息显示：
```
invalid ip: 14.116.239.33
```

**当前服务器IP地址：** `14.116.239.33`

## 🔧 解决方案

### 步骤1：登录微信公众平台
1. 访问 [微信公众平台](https://mp.weixin.qq.com/)
2. 使用您的账号登录

### 步骤2：进入开发设置
1. 在左侧菜单选择 **"开发管理"**
2. 点击 **"开发设置"** 选项卡

### 步骤3：配置IP白名单
1. 找到 **"小程序代码上传"** 部分
2. 点击 **"IP白名单"** 旁边的 **"配置"** 按钮
3. 在弹出窗口中添加以下IP地址：
   ```
   14.116.239.33
   ```
4. 点击 **"确定"** 保存设置

### 步骤4：重新尝试上传
IP白名单配置完成后，重新运行上传命令：
```bash
cd tools
npm run upload
```

## 💡 注意事项

1. **IP地址可能变化**：如果服务器重启或网络环境变化，IP地址可能会改变
2. **多个IP地址**：如果您从不同网络环境上传，需要添加所有可能的IP地址
3. **配置生效时间**：IP白名单配置通常立即生效

## 📞 备用方案

如果IP地址频繁变化，可以考虑：
- 使用固定IP的服务器
- 使用VPN连接到固定IP
- 在本地开发环境上传（需要配置本地IP）

## ✅ 验证方法

配置完成后，可以通过以下命令验证上传是否成功：
```bash
cd tools
npm run upload
```

成功上传后，您可以在微信公众平台的 **"版本管理"** -> **"开发版本"** 中看到上传的游戏版本。

---

**重要提示：** 请确保在微信公众平台完成IP白名单配置后再尝试上传！